-- MySQL dump 10.13  Distrib 8.0.28, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: vietcoin
-- ------------------------------------------------------
-- Server version	8.0.21

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `token_purchases`
--

DROP TABLE IF EXISTS `token_purchases`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `token_purchases` (
  `id` varchar(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int DEFAULT NULL,
  `token_id` varchar(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sale_id` varchar(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `amount` double DEFAULT NULL,
  `price` double DEFAULT NULL,
  `total_price` double DEFAULT NULL,
  `status` enum('PENDING','COMPLETED','FAILED','CANCELLED') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT 'COMPLETED',
  `lockup_until` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  KEY `token_id` (`token_id`),
  KEY `sale_id` (`sale_id`),
  CONSTRAINT `token_purchases_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`),
  CONSTRAINT `token_purchases_ibfk_2` FOREIGN KEY (`token_id`) REFERENCES `tokens` (`id`),
  CONSTRAINT `token_purchases_ibfk_3` FOREIGN KEY (`sale_id`) REFERENCES `token_sales` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `token_purchases`
--

LOCK TABLES `token_purchases` WRITE;
/*!40000 ALTER TABLE `token_purchases` DISABLE KEYS */;
INSERT INTO `token_purchases` VALUES ('0e9252ba-2e54-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1234,0.05,61.7,'COMPLETED','2025-09-13 19:38:21','2025-05-11 19:38:20','2025-05-12 08:54:17'),('3ceb0e98-2ecb-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1223,0.05,61.15,'COMPLETED','2025-09-14 09:51:28','2025-05-12 09:51:28','2025-05-12 09:51:28'),('42da737d-2ec3-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1234,0.05,61.7,'COMPLETED','2025-09-14 08:54:22','2025-05-12 08:54:22','2025-05-12 08:54:22'),('55555555-5555-5555-5555-555555555555',1,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',5000,0.05,250,'COMPLETED','2025-09-07 17:34:51','2025-05-05 17:34:51','2025-05-12 08:54:17'),('5c2366be-3140-11f0-b211-0affc8a0b32f',22,'11111111-1111-1111-1111-111111111111','33333333-3333-3333-3333-333333333333',2949,0.07,206.43,'COMPLETED','2025-08-13 03:54:54','2025-05-15 03:54:54','2025-05-15 03:54:54'),('645a4604-35e8-11f0-a9b7-38d275d3c45c',4,'ed299b25-dda1-44d0-8692-d7172fb03f99','d0db2ab0-b2a8-48a8-8cd1-143e037c9568',200,0.2,40,'COMPLETED','2025-05-31 11:07:48','2025-05-21 11:07:48','2025-05-21 11:07:48'),('64dcbf06-ee40-4044-9f96-07cf1aaf6ae3',1,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1234,0.05,61.7,'COMPLETED','2025-09-07 17:35:13','2025-05-05 17:35:13','2025-05-12 08:54:17'),('66666666-6666-6666-6666-666666666666',1,'11111111-1111-1111-1111-111111111111','33333333-3333-3333-3333-333333333333',2000,0.07,140,'COMPLETED','2025-08-03 17:34:51','2025-05-05 17:34:51','2025-05-12 08:54:17'),('73fb6685-2fc4-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','33333333-3333-3333-3333-333333333333',25508,0.07,1785.56,'COMPLETED','2025-08-11 15:35:25','2025-05-13 15:35:25','2025-05-13 15:35:25'),('848bfff1-322f-11f0-b211-0affc8a0b32f',4,'11111111-1111-1111-1111-111111111111','33333333-3333-3333-3333-333333333333',2400,0.07,168,'COMPLETED','2025-08-14 08:26:52','2025-05-16 08:26:51','2025-05-16 08:26:51'),('8b6e9285-2e53-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1234,0.05,61.7,'PENDING','2025-09-13 19:34:40','2025-05-11 19:34:40','2025-05-12 08:54:17'),('967b2cda-35e7-11f0-a9b7-38d275d3c45c',4,'ed299b25-dda1-44d0-8692-d7172fb03f99','d0db2ab0-b2a8-48a8-8cd1-143e037c9568',200,0.2,40,'COMPLETED','2025-05-31 11:02:03','2025-05-21 11:02:02','2025-05-21 11:02:02'),('9b18a13c-35e7-11f0-a9b7-38d275d3c45c',4,'ed299b25-dda1-44d0-8692-d7172fb03f99','d0db2ab0-b2a8-48a8-8cd1-143e037c9568',249,0.2,49.8,'COMPLETED','2025-05-31 11:02:10','2025-05-21 11:02:10','2025-05-21 11:02:10'),('9c3c3984-2ec9-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',100000,0.05,5000,'COMPLETED','2025-09-14 09:39:49','2025-05-12 09:39:49','2025-05-12 09:39:49'),('bd224ef5-30e1-11f0-b211-0affc8a0b32f',4,'11111111-1111-1111-1111-111111111111','33333333-3333-3333-3333-333333333333',500,0.07,35,'COMPLETED','2025-08-12 16:37:35','2025-05-14 16:37:34','2025-05-14 16:37:34'),('cd25a224-35e7-11f0-a9b7-38d275d3c45c',4,'ed299b25-dda1-44d0-8692-d7172fb03f99','d0db2ab0-b2a8-48a8-8cd1-143e037c9568',200,0.2,40,'COMPLETED','2025-05-31 11:03:34','2025-05-21 11:03:34','2025-05-21 11:03:34'),('d79f8179-319f-11f0-b211-0affc8a0b32f',4,'11111111-1111-1111-1111-111111111111','33333333-3333-3333-3333-333333333333',500,0.07,35,'COMPLETED','2025-08-13 15:18:24','2025-05-15 15:18:23','2025-05-15 15:18:23'),('defe72b0-35e6-11f0-a9b7-38d275d3c45c',4,'ed299b25-dda1-44d0-8692-d7172fb03f99','d0db2ab0-b2a8-48a8-8cd1-143e037c9568',281,0.2,56.2,'COMPLETED','2025-05-31 10:56:55','2025-05-21 10:56:54','2025-05-21 10:56:54'),('e7d198b3-2ecb-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1000,0.05,50,'COMPLETED','2025-09-14 09:56:15','2025-05-12 09:56:15','2025-05-12 09:56:15'),('f01abb47-2ec2-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1234,0.05,61.7,'PENDING','2025-09-14 08:52:04','2025-05-12 08:52:03','2025-05-12 08:54:17'),('fc80daf1-2ec7-11f0-a0c9-00d861e5dfb2',4,'11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222',1234,0.05,61.7,'COMPLETED','2025-09-14 09:28:12','2025-05-12 09:28:11','2025-05-12 09:28:11');
/*!40000 ALTER TABLE `token_purchases` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-07-20 23:43:03
